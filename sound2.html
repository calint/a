<html onmousemove="dax=event.clientX/10000;day=event.clientY/10000;">
<script>
var context;
try{
	window.AudioContext=window.AudioContext||window.webkitAudioContext;
	context=new AudioContext();
}catch(e){
	alert('Web Audio API is not supported in this browser');
}
//var context=new webkitAudioContext();
var bufferSize=256*2;
var dac=context.createScriptProcessor(bufferSize,1,1);
var dax=.004;
var day=.002;
var ax=0;
var ay=0;

$=document.all;
var off=false;
dac.onaudioprocess=function(e){
    var output=e.outputBuffer.getChannelData(0);
 //   console.log(dax);
 	$.frm.value++;
    for(var i=0;i<bufferSize;i++) {
    	if(off){
    		output[i]=0;
    		continue;
    	}
        output[i]=((Math.sin(ax)*2-1)+(Math.sin(ay)*2-1))/2;
    	ax+=dax;
    	ay+=day;
    	$.frq1.value=dax;
    	$.frq2.value=day;
    }
}
dac.connect(context.destination);

function start(){off=false;}
function stop(){off=true;}
function onmousemove(event){
	dax=event.clientX/10000;day=event.clientY/10000;
}
</script>
<pre><a href="javascript:stop()">stop</a> <a href="javascript:start()">start</a>
frame [<output id=frm></output>] frequencies [<output id=frq1></output>] [<output id=frq2></output>]

